%!TEX encoding = UTF-8 Unicode
%!TEX root = ../compendium2.tex

\Lab{java}

\begin{Goals}
\item Förstå skillnaden mellan primitiva typer och objekt i Java.
\item Kunna förklara hur autoboxing fungerar i Java.
\item Kunna förklara vad statiska metoder och attribut i Java innebär.
\item Kunna använda \code{ArrayList} och arrayer i Java.
\item Kunna använda Java-klassen \code{Scanner}.
\item Kunna skapa en for-sats i Java.
\item Känna till hur man kan förenkla användandet av Java och Scala i samma program med hjälp av \code{scala.jdk.CollectionConverters}.
\end{Goals}

\begin{Preparations}
\item Gör övningarna tidigare i detta Appendix.
\item Studera given kod här: \\ \href{https://github.com/lunduniversity/introprog/tree/master/workspace/javatext/}{github.com/lunduniversity/introprog/tree/master/workspace/javatext/}
\end{Preparations}

\subsection{Krav}

Du ska skapa ett textspel för terminalen som är (lagom) intressant/roligt att spela och sparar poäng per spelomgång för olika spelare. Till din hjälp har du den färdiga filen \code{Main.java} (som går bra att förändra om det behövs) samt de två kodskeletten \code{Game.java} och \code{UserInterface.scala}. Ditt textspel ska köras i terminalen och uppfylla följande krav och riktlinjer:

\begin{enumerate}
  \item När ditt program kör ska man ska kunna starta flera spelomgångar efter varandra utan att behöva avsluta programmet.
  \item För varje spelomgång ska programmet komma ihåg spelarens namn\footnote{eller spelar\emph{nas} namn om det är ett spel för två eller flera personer} med tillhörande resultat.
  \item Efter begäran ska programmet kunna visa en topplista med bästa poäng, både för alla spelare och för ett specifikt spelarnamn.
%  \item Speltiden för varje spelomgång ska mätas och sparas tillsammans med poängresultatet för respektive spelare.
  \item Koden för själva spelet ska vara skriven i Java, men Scala ska användas för att implementera funktionerna i singelobjektet \code{UserInterface}.
  \item I Scala-koden ska du för träningens skull använda Java-klassen \code{java.util.Scanner} när du läser in data från terminalen.
  \item Koden i singelobjektet \code{UserInterface} ska använda omvandlingsmetoden \code{asScala} efter \code{import scala.jdk.CollectionConverters._} för att omvandla argument av typen \code{java.util.ArrayList}.
  \item Ditt spel ska i Java-kod använda minst en av datastrukturerna
  \code{ArrayList},
  \code{HashSet},
  \code{HashMap} ur paketet \code{java.util}, samt minst en array. (Den givna koden i \code{Main.java} räknas inte till detta krav.)
  \item Du ska spela någon annans halvfärdiga spel och, efter att du studerat koden, ge återkoppling på kodens läsbarhet.
  \item Du ska låta någon annan spela ditt halvfärdiga spel och visa din kod och fråga om återkoppling på läsbarheten. Du ska anteckna den återkoppling du får.
  \item Du ska inför redovisningen förbereda följande:
  \begin{enumerate}
    \item en kort genomgång av spelets idé,
    \item en kort förklaring av kodens struktur och de olika Java-klassernas ansvar,
    \item en kort redogörelse för den återkoppling du fått på din kods läsbarhet och hur du arbetat med att förbättra läsbarheten under dina stegvisa utvidgningar av din kod,
    \item en lista med koncept som du tränat på när du skapat ditt textspel.
  \end{enumerate}
\end{enumerate}

\subsection{Frivilliga extrauppgifter}

\begin{enumerate}
	\item Spara resultat i en fil efter varje spelomgång, och läs in resultat från filen antingen när programmet startas eller när användaren vill se poänglistan, så att det går att se spelresultat från tidigare körningar av programmet. Den kod du behöver lägga till för att åstadkomma detta kan vara skriven antingen i Java eller Scala. Tänk på att du kan behöva göra ändringar även i \code{Main}-klassen.
	\item   Mät speltiden för varje spelomgång och spara tiden tillsammans med poängresultatet för respektive spelare.

\end{enumerate}

\subsection{Inspiration och tips}

\begin{enumerate}
  \item Utgå från Hangman i veckans övning eller,
  \item Yatzy från tidigare övningar, eller
  \item skapa ett kortspel inspirerat av \code{shuffle}-labben, eller
  \item inspireras av listan med sällskapsspel på wikipedia:\\ \href{https://sv.wikipedia.org/wiki/Kategori:Sällskapsspel}{sv.wikipedia.org/wiki/Kategori:Sällskapsspel}
  \item eller hitta på ett eget textspel.
  \item Börja med en starkt förenklad variant som du sedan bygger vidare på.
  \item Kompilera och testa efter varje ändring, så att du hela tiden har ett fungerande program.
  \item Dela upp din spelkod i flera metoder, och även flera klasser om det är lämpligt.
  \item Det finns mycket information på nätet om hur man skriver Java-kod och använder JDK, t.ex. på \url{https://stackoverflow.com/}
  \item Träna på att använda JDK-dokumentationen här:\\ \url{https://docs.oracle.com/javase/8/docs/api/}
\end{enumerate}
