%!TEX encoding = UTF-8 Unicode
%!TEX root = ../lect-w08.tex

\Subsection{Upptäcka och åtgärda buggar}

\begin{Slide}{Debugging -- Appendix D}
\begin{itemize}
\item Läs om testning och avlusning \Eng{debugging} i Appendix D: ''Fixa buggar'' 
\item Träna på println-debugging
\item Prova debuggern i VS code

% TODO?
%\item munit ?
%\item sbt testOnly och andra sätt att köra testfall???

\end{itemize}
\end{Slide}


\begin{Slide}{Den första buggen}\SlideFontSmall
En nattfjäril i ett relä i datorn Mark II hittad av Grace Hopper i logg från 1940:

\includegraphics[width=0.70\textwidth]{../img/bug}

\url{https://en.wikipedia.org/wiki/Debugging}

\end{Slide}



\begin{Slide}{Olika sorters fel?}
\begin{itemize}
\item Kravfel  
\item Designfel  
\item Implementeringsfel  
\item Testfel  
\item Operatörsfel  
\item Användarfel  
\end{itemize}
\end{Slide}

\begin{Slide}{När upptäcks fel?}
\begin{itemize}
\item Vid granskning av människor  
\item Kompileringsfel -- tack kompilatorn!
\item Exekveringsfel \pause 
\begin{itemize}
\item Exekveringen ger oönskat resultat 
\begin{itemize}
\item Vid testning -- eller är det fel på testfallet?
\item I produktion -- ledsna användare \code{:(}  
\end{itemize}
\item Exekveringen hänger sig \Eng{hang}
\begin{itemize}
\item oändlig loop  
\item väldigt långsamt  
\item väntar på indata
\item dödläge
\end{itemize}
\item Exekveringen kraschar \Eng{crash}
\begin{itemize}
\item minnet är slut
\item null-referens
\item undantag \Eng{exception}
\end{itemize}
\end{itemize}
\end{itemize}
\end{Slide}

\begin{Slide}{Förebygga fel}
\begin{itemize}
\item Skapa begriplig kod.
\item Tänk ut bra namn.
\item Kontrollera parametrar och variabler.
\item Kontrollera typer.
\item Hantera saknade värden.
\item Hantera undantag.
\item Granska kod.
\item Testa kod.
\item Lär av användarnas upplevelser.
\end{itemize}
\end{Slide}

\begin{Slide}{Hitta felorsaken: debugging (avlusning)}
\begin{itemize}
\item Återskapa buggen med ett minimalt testfall.
\item Formulera och verifiera hypoteser om buggen.
\item Instrumentering med utskrifter, "println-debugging".
\end{itemize}
\end{Slide}

\begin{Slide}{Åtgärda fel}
\begin{itemize}
\item Algoritmen i grunden feltänkt: skapa ny algoritm
\item Undantagsfall hanteras ej korrekt.
\item En knepig algoritm är extra svår att fixa till.
\item Medan man rättar en bug kan man råka att, av misstag, skapa nya buggar.
\item Exekveringstiden växer alltför snabbt ökad datamängd.
\end{itemize}
\end{Slide}

\begin{Slide}{Använda en debugger}
\begin{minipage}{0.42\textwidth}
\begin{itemize}
\item Sätta brytpunkter.
\item Stegad exekvering.
\item Inspektera variabler.
\end{itemize}
\end{minipage}%
\begin{minipage}{0.65\textwidth}
\includegraphics[width=1.0\textwidth]{../img/vscode-debug}
\end{minipage}

\vspace{2em}
Läs mer i Appendix H om debuggern i VSCode.
\end{Slide}



\ifkompendium\else

\begin{SlideExtra}{Om veckans övning: \code{matrices}}
\SlideFontSmall
\begin{itemize}
\input{../compendium/modules/w08-matrices-exercise-goals.tex}
\end{itemize}

\end{SlideExtra}

\begin{SlideExtra}{Om veckans labb: \code{life}}
\SlideFontSmall
\begin{itemize}
\input{../compendium/modules/w08-matrices-lab-goals.tex}
\end{itemize}
\end{SlideExtra}

\fi

